<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Mailvex - Secure, Anonymous, Free Disposable Email. Protect your privacy with instant temp mail.">
    <meta name="keywords" content="temp mail, disposable email, anonymous email, fake mail, 10 minute mail">
    <meta name="author" content="Mailvex">
    
    <title>Mailvex - Premium Temporary Email</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        
        /* Spinner Animation */
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Dark Hero Pattern */
        .hero-section {
            background-color: #1a202c;
            background-image: radial-gradient(#2d3748 1px, transparent 1px);
            background-size: 20px 20px;
            position: relative;
        }
        
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
    </style>
</head>
<body class="flex flex-col min-h-screen text-gray-800">

    <nav class="bg-[#1a202c] border-b border-gray-700 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-indigo-600 p-2 rounded-lg shadow-lg">
                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                </div>
                <span class="text-xl font-bold text-white tracking-wide">Mailvex</span>
            </div>
            <div class="flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-full border border-gray-600">
                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                <span id="timer" class="text-sm font-mono text-gray-200">10:00</span>
            </div>
        </div>
    </nav>

    <div id="main-view" class="flex-grow flex flex-col">
        
        <div class="hero-section pb-12 pt-8 px-4 shadow-xl mb-8 rounded-b-[2rem]">
            <div class="max-w-xl mx-auto text-center space-y-6">
                <h1 class="text-white text-lg sm:text-xl font-medium tracking-wide">Your Temporary Email Address</h1>
                
                <div class="relative group">
                    <div class="absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full blur opacity-20 group-hover:opacity-40 transition"></div>
                    <div class="relative bg-[#252f3f] rounded-full p-2 pl-6 flex items-center justify-between shadow-2xl border border-gray-600">
                        <input type="text" id="email-address" readonly value="Generating..." 
                            class="bg-transparent text-gray-200 text-sm sm:text-base w-full outline-none font-mono truncate mr-2 placeholder-gray-500">
                        
                        <div class="flex items-center gap-2 shrink-0">
                            <button onclick="toggleQR()" class="p-2.5 bg-gray-600 hover:bg-gray-500 rounded-xl transition text-white border border-gray-500" title="QR Code">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4h2v-4zM6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12zm6-16c.413 0 .75.337.75.75v1.5a.75.75 0 11-1.5 0v-1.5c0-.413.337-.75.75-.75zM6 8h2v2H6V8z"></path></svg>
                            </button>
                            
                            <button onclick="copyEmail()" id="copy-btn" class="p-3 bg-[#00c497] hover:bg-[#00b389] rounded-full shadow-lg transition text-white shadow-emerald-900/20 active:scale-95 flex items-center justify-center">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            </button>

                            <div id="qr-popup" class="hidden absolute top-full right-0 mt-4 p-4 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 flex flex-col items-center w-48">
                                <div id="qr-image-container" class="w-40 h-40 bg-gray-50 flex items-center justify-center rounded overflow-hidden"></div>
                                <span class="text-xs text-gray-500 mt-2">Scan to Copy</span>
                            </div>
                        </div>
                    </div>
                </div>

                <p class="text-xs text-gray-400 max-w-lg mx-auto leading-relaxed px-2">
                    Forget about spam, advertising mailings, hacking and attacking robots. Keep your real mailbox clean and secure.
                </p>
            </div>
        </div>

        <div class="max-w-2xl mx-auto w-full px-4 -mt-14 relative z-20">
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3 mb-8">
                <button onclick="copyEmail()" class="bg-white hover:bg-gray-50 text-gray-700 py-3 rounded-full shadow-lg border border-gray-100 text-sm font-semibold flex items-center justify-center gap-2 active:scale-95 transition">
                    <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy
                </button>
                <button onclick="manualRefresh()" class="bg-white hover:bg-gray-50 text-gray-700 py-3 rounded-full shadow-lg border border-gray-100 text-sm font-semibold flex items-center justify-center gap-2 active:scale-95 transition">
                    <svg id="refresh-icon" class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Refresh
                </button>
                <button onclick="openChangeOverlay()" class="bg-white hover:bg-gray-50 text-gray-700 py-3 rounded-full shadow-lg border border-gray-100 text-sm font-semibold flex items-center justify-center gap-2 active:scale-95 transition">
                    <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg> Change
                </button>
                <button onclick="deleteEmail()" class="bg-white hover:bg-red-50 text-gray-700 hover:text-red-600 py-3 rounded-full shadow-lg border border-gray-100 text-sm font-semibold flex items-center justify-center gap-2 active:scale-95 transition">
                    <svg class="w-4 h-4 text-gray-500 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg> Delete
                </button>
            </div>
        </div>

    <div class="max-w-4xl mx-auto w-full px-4 mb-6 text-center">
    
    <div class="hidden md:block">
        <script type="text/javascript">
            atOptions = {
                'key' : '75651d6248306d63f1bc5bec4e21436b',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/75651d6248306d63f1bc5bec4e21436b/invoke.js"></script>
    </div>

    <div class="md:hidden">
        <script type="text/javascript">
            atOptions = {
                'key' : 'b6760252e2490b4bf3c656d515b8815e',
                'format' : 'iframe',
                'height' : 50,
                'width' : 320,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/b6760252e2490b4bf3c656d515b8815e/invoke.js"></script>
    </div>

</div>

        <div class="max-w-4xl mx-auto w-full px-4 mb-8">
            <div id="inbox-container" class="bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden min-h-[400px] flex flex-col relative">
                
                <div id="list-header" class="bg-[#1a202c] text-white flex text-xs font-bold uppercase tracking-wider py-3.5 px-5">
                    <div class="w-1/3">Sender</div>
                    <div class="w-1/2">Subject</div>
                    <div class="w-1/6 text-right flex items-center justify-end gap-2">
                        View
                        <div id="header-loader" class="hidden w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
                    </div>
                </div>
                  <div id="inboxList" class="relative flex-1 bg-white">
                    
                    <div id="empty-state" class="absolute inset-0 flex flex-col items-center justify-center py-20 text-gray-400 space-y-4">
                        <div class="relative p-4">
                            <div class="absolute inset-0 flex items-center justify-center z-10">
                                <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                </svg>
                            </div>
                            <div id="main-spinner" class="w-16 h-16 border-4 border-gray-100 border-t-indigo-500 rounded-full hidden"></div>
                        </div>
                        
                        <div class="text-center">
                            <p class="text-gray-800 font-medium mb-1">Your inbox is empty</p>
                            <p id="status-text" class="text-xs text-gray-500 transition-opacity duration-300 opacity-50">Waiting for incoming emails...</p>
                        </div>
                    </div>

                </div>

                <div id="email-detail-view" class="hidden absolute inset-0 bg-white z-20 flex-col">
                    <div class="bg-gray-800 text-white px-4 py-3 flex justify-between items-center shadow-md">
                        <button onclick="backToInbox()" class="flex items-center gap-2 text-sm font-semibold hover:text-gray-300 transition">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                            BACK TO LIST
                        </button>
                        <div class="flex items-center gap-4 text-sm font-medium">
                            <button onclick="deleteEmail()" class="hover:text-red-400 transition">Delete</button>
                            <button class="hover:text-indigo-300 transition">Source</button>
                        </div>
                    </div>
                    <div id="email-content-body" class="flex-1 overflow-y-auto bg-white p-0">
                        </div>
                </div>

                <div id="change-overlay" class="hidden absolute inset-0 bg-white z-30 flex-col fade-in">
                    <div class="bg-gray-50 border-b border-gray-200 p-4 flex justify-between items-center">
                        <h3 class="font-bold text-gray-700">Select Domain</h3>
                        <button onclick="closeChangeOverlay()" class="text-gray-400 hover:text-red-500"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
                    </div>
                    <div id="domain-list" class="flex-1 overflow-y-auto p-4 space-y-2"></div>
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto w-full px-4 mb-10 text-center">
            <script async="async" data-cfasync="false" src="https://pl28636618.effectivegatecpm.com/54089c9f152285050fee3f76c64a6c8f/invoke.js"></script>
            <div id="container-54089c9f152285050fee3f76c64a6c8f"></div>
            </div>

        <div class="max-w-4xl mx-auto w-full px-4 mb-8 space-y-6">
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="text-lg font-bold text-indigo-600 mb-3">What is Disposable Temporary Email?</h3>
                    <p class="text-sm text-gray-600 leading-relaxed">
                        Disposable temporary email is a service that provides you with a free email address that self-destructs after a certain period. It is designed to protect your privacy and keep your primary inbox clean from spam, advertising mailings, and phishing attempts.
                    </p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                    <h3 class="text-lg font-bold text-indigo-600 mb-3">How to Use?</h3>
                    <ul class="list-disc pl-5 text-sm text-gray-600 leading-relaxed space-y-2">
                        <li><strong>Step 1:</strong> Copy the email address generated at the top of the page.</li>
                        <li><strong>Step 2:</strong> Use this email to sign up on websites or apps.</li>
                        <li><strong>Step 3:</strong> Wait for the verification email to appear in the inbox below.</li>
                        <li><strong>Step 4:</strong> Click on the email to read the content or get the OTP.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto w-full px-4 mb-12 space-y-12">
            
            <div>
                <h3 class="text-xl font-bold text-gray-800 pl-2 border-l-4 border-indigo-500 mb-6">Latest Articles</h3>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="articles-grid"></div>
            </div>
            
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Frequently Asked Questions</h3>
                <div class="space-y-2">
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">Is Mailvex completely free?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">Yes, Mailvex is 100% free to use for everyone. You can generate unlimited temporary emails without any cost or registration.</p></details>
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">How long does the email address last?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">The email address remains active as long as you keep the tab open. The 10-minute timer resets automatically or when you click refresh. Once closed or expired, the email is deleted.</p></details>
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">Can I recover a deleted email?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">No. For your security and privacy, once an email is deleted or the session expires, all data is permanently erased from our servers and cannot be recovered.</p></details>
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">Do I need to download an app?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">No application is required. Mailvex works seamlessly on any web browser on mobile, tablet, or desktop devices.</p></details>
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">Is it secure to use for private accounts?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">While we use SSL encryption, we recommend not using temporary emails for banking or sensitive personal accounts, as anyone with the address could theoretically access it if they guess the ID before it expires.</p></details>
                    <details class="group bg-gray-50 rounded"><summary class="p-3 cursor-pointer font-medium text-sm text-gray-700">Can I send emails using Mailvex?</summary><p class="text-xs text-gray-600 p-3 pt-0 leading-relaxed">No, Mailvex is a receive-only service. This is to prevent the service from being used for spam or malicious activities.</p></details>
                </div>
            </div>
        </div>

     <footer class="bg-[#1a202c] text-gray-400 py-10 mt-auto">
    <div class="max-w-4xl mx-auto px-4 text-center">

        <div class="mb-6">
            <script type='text/javascript' src='https://pl28636855.effectivegatecpm.com/6d/c9/87/6dc98706b54ea608e7c1a1409b371864.js'></script>
        </div>
        
        <div class="hidden md:block mb-8">
            <script type="text/javascript">
                atOptions = {
                    'key' : '75651d6248306d63f1bc5bec4e21436b',
                    'format' : 'iframe',
                    'height' : 90,
                    'width' : 728,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/75651d6248306d63f1bc5bec4e21436b/invoke.js"></script>
        </div>

        <div class="md:hidden mb-8">
            <script type="text/javascript">
                atOptions = {
                    'key' : 'b6760252e2490b4bf3c656d515b8815e',
                    'format' : 'iframe',
                    'height' : 50,
                    'width' : 320,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/b6760252e2490b4bf3c656d515b8815e/invoke.js"></script>
        </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 text-sm font-medium">
                    <button onclick="openPage('privacy')" class="hover:text-white">Privacy Policy</button>
                    <button onclick="openPage('terms')" class="hover:text-white">Terms of Service</button>
                    <button onclick="openPage('cookies')" class="hover:text-white">Cookie Policy</button>
                    <button onclick="openPage('contact')" class="hover:text-white">Contact Us</button>
                </div>
                
                <p class="text-xs text-gray-600">&copy; 2026 Mailvex. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <div id="overlay-view" class="hidden fixed inset-0 bg-gray-100 z-[60] flex flex-col fade-in overflow-y-auto">
        <div class="sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between shadow-sm z-50">
            <button onclick="closeOverlay()" class="flex items-center gap-2 text-gray-600 font-semibold hover:text-indigo-600 hover:bg-gray-50 px-3 py-1.5 rounded-lg transition">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> Back
            </button>
            <span class="font-bold text-gray-800" id="overlay-title">Details</span>
            <div class="w-8"></div>
        </div>
        <div id="overlay-content" class="max-w-3xl mx-auto p-4 md:p-6 w-full flex-grow"></div>
    </div>  

     <script>
        const API = "https://api.mail.tm";
        const emailEl = document.getElementById("email-address");
        const inboxList = document.getElementById("inboxList");
        const timerEl = document.getElementById("timer");
        const detailView = document.getElementById("email-detail-view");
        const listHeader = document.getElementById("list-header");
        
        let timerInterval, loaderInterval;
        let timeLeft = 600;

        // --- CONTENT GENERATORS (Preserved from your file) ---
        function generateLongText(topic) {
            let html = `<p class="mb-4"><strong>${topic}</strong> is a critical aspect of digital life. This comprehensive guide explores why ${topic} matters, how it works, and what you need to know.</p>`;
            html += `<h3 class="text-lg font-bold mt-6 mb-2">Detailed Overview</h3><p class="mb-4">In today's interconnected world, ${topic} plays a vital role. Whether you are a casual user or a professional, understanding the nuances of ${topic} can save you time and protect your data. We have seen a significant rise in the importance of ${topic} over the last decade.</p>`;
            for(let i=1; i<=6; i++) {
                html += `<h3 class="text-lg font-bold mt-6 mb-2">Section ${i}: Deep Dive into ${topic}</h3>`;
                html += `<p class="mb-4">As we delve deeper into section ${i}, it becomes clear that ${topic} involves multiple layers of complexity. First, consider the user experience. When interacting with systems designed for ${topic}, efficiency is key. Second, security is paramount. The protocols surrounding ${topic} are designed to be robust against modern threats. Experts suggest that neglecting ${topic} can lead to significant vulnerabilities.</p>`;
                html += `<p class="mb-4">Furthermore, industry experts agree that ${topic} will continue to evolve. New standards are being developed to make ${topic} even more seamless. If you are looking to leverage ${topic} for your personal or business needs, staying updated with these changes is essential. For example, recent updates in cloud computing have directly impacted how we perceive ${topic}.</p>`;
                html += `<p class="mb-4">Another aspect to consider is the environmental impact of digital services related to ${topic}. While often overlooked, efficient code and server management in ${topic} can contribute to a greener web. This sustainability angle is becoming increasingly relevant for tech companies worldwide.</p>`;
                html += `<p class="mb-4">Moreover, the global reach of ${topic} means that cross-border regulations often apply. Understanding the legal framework surrounding ${topic} in different jurisdictions is crucial for compliance. This is especially true for businesses operating internationally.</p>`;
            }
            html += `<h3 class="text-lg font-bold mt-6 mb-2">Conclusion</h3><p class="mb-4">To summarize, ${topic} is an indispensable tool. By mastering the concepts outlined in this detailed article, you are better equipped to navigate the digital landscape safely and efficiently.</p>`;
            return html;
        }

        function generatePolicyText(type) {
            let html = "";
            if(type === 'privacy') {
                html += `<h1 class="text-3xl font-bold mb-6">Privacy Policy</h1><p class="mb-4 text-sm text-gray-500">Last Updated: 2026</p>`;
                html += `<p class="mb-4">At Mailvex, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website.</p>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">1. Information We Collect</h3><p class="mb-4">We adhere to a strict no-logs policy. However, to provide our service, we may process:</p><ul class="list-disc pl-5 mb-4 space-y-2"><li><strong>Temporary Email Data:</strong> The emails you receive are stored temporarily on our volatile servers and are deleted permanently when your session expires or when you delete them.</li><li><strong>Usage Data:</strong> We may collect anonymous data such as browser type and operating system to improve site performance.</li><li><strong>Cookies:</strong> We use cookies to maintain your session state.</li></ul>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">2. How We Use Your Information</h3><p class="mb-4">The limited information we collect is used solely to:</p><ul class="list-disc pl-5 mb-4"><li>Provide and maintain the Service.</li><li>Detect and prevent fraud or abuse.</li><li>Monitor the usage of the Service.</li></ul>`;
                for(let i=0; i<4; i++) {
                    html += `<p class="mb-4">We are committed to data minimization. We do not sell, trade, or rent your personal identification information to others. Our business model relies on non-intrusive advertising, not data mining. We implement a variety of security measures to maintain the safety of your personal information when you enter, submit, or access your personal information.</p>`;
                    html += `<p class="mb-4">Security of your data is important to us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security.</p>`;
                }
                html += `<h3 class="text-xl font-bold mt-6 mb-3">Contact Us</h3><p>If you have questions about this Privacy Policy, please contact us via the form on our website.</p>`;
            } else if (type === 'terms') {
                html += `<h1 class="text-3xl font-bold mb-6">Terms and Conditions</h1><p class="mb-4">Welcome to Mailvex.</p>`;
                html += `<p class="mb-4">By accessing this website we assume you accept these terms and conditions. Do not continue to use Mailvex if you do not agree to take all of the terms and conditions stated on this page.</p>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">1. License</h3><p class="mb-4">Unless otherwise stated, Mailvex and/or its licensors own the intellectual property rights for all material on Mailvex. All intellectual property rights are reserved.</p>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">2. User Restrictions</h3><p class="mb-4">You are specifically restricted from all of the following:</p><ul class="list-disc pl-5 mb-4"><li>Using this website in any way that is or may be damaging to this website.</li><li>Using this website in any way that impacts user access to this website.</li><li>Using this website contrary to applicable laws and regulations.</li><li>Engaging in any data mining, data harvesting, data extracting or any other similar activity.</li></ul>`;
                for(let i=0; i<4; i++) {
                     html += `<p class="mb-4">Certain areas of this website are restricted from being accessed by you and Mailvex may further restrict access by you to any areas of this website, at any time, in absolute discretion. Any user ID and password you may have for this website are confidential and you must maintain confidentiality as well.</p>`;
                     html += `<p class="mb-4">Your Content must be your own and must not be invading any third-partyâ€™s rights. Mailvex reserves the right to remove any of Your Content from this Website at any time without notice.</p>`;
                }
            } else if (type === 'cookies') {
                html += `<h1 class="text-3xl font-bold mb-6">Cookie Policy</h1>`;
                html += `<p class="mb-4">This Cookie Policy explains what cookies are and how we use them. You should read this policy so you can understand what type of cookies we use, or the information we collect using cookies and how that information is used.</p>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">What are Cookies?</h3><p class="mb-4">Cookies are small text files that are stored on your browser or hard drive by websites that you visit. They are widely used in order to make websites work, or work more efficiently, as well as to provide information to the owners of the site.</p>`;
                html += `<h3 class="text-xl font-bold mt-6 mb-3">How We Use Cookies</h3><ul class="list-disc pl-5 mb-4"><li><strong>Essential Cookies:</strong> These are necessary for the website to function and cannot be switched off.</li><li><strong>Functionality Cookies:</strong> These allow the website to remember choices you make.</li><li><strong>Advertising Cookies:</strong> These are used to deliver advertisements more relevant to you and your interests.</li></ul>`;
                for(let i=0; i<3; i++) {
                    html += `<p class="mb-4">We use Adsterra as our advertising partner. Adsterra may use cookies to personalize the ads you see. By using our site, you consent to the use of these cookies. You can choose to disable cookies through your individual browser options. To know more detailed information about cookie management with specific web browsers, it can be found at the browsers' respective websites.</p>`;
                    html += `<p class="mb-4">If you disable cookies, some features of the Mailvex site may not function properly. We recommend keeping cookies enabled for the best experience.</p>`;
                }
            }
            return html;
        }

        const articles = [
            { id: 1, title: "Why Use Temp Mail?", content: generateLongText("Temporary Email Benefits") },
            { id: 2, title: "Bypass OTP Verification", content: generateLongText("OTP Bypassing Security") },
            { id: 3, title: "Safe Online Shopping", content: generateLongText("Anonymous Shopping") },
            { id: 4, title: "For Developers & QA", content: generateLongText("Software Testing with Emails") },
            { id: 5, title: "Avoid Phishing Attacks", content: generateLongText("Anti-Phishing Strategies") },
            { id: 6, title: "The Future of Privacy", content: generateLongText("Digital Privacy Trends") },
            { id: 7, title: "How Mailvex Works", content: generateLongText("Mailvex Architecture") }
        ];

        window.onload = () => {
            renderArticles();
            ensureEmptyStateExists(); 
            createAccount();
        };

        // --- ACCOUNT & API ---
        async function createAccount(domain=null) {
            backToInbox(); // Ensure we are on list view
            ensureEmptyStateExists();
            emailEl.value = "Generating...";
            try {
                const dData = await api("/domains");
                const d = domain || dData['hydra:member'][0].domain;
                const u = Math.random().toString(36).substring(7);
                const p = Math.random().toString(36).substring(2);
                
                await api("/accounts", "POST", { address: `${u}@${d}`, password: p });
                const tokenData = await api("/token", "POST", { address: `${u}@${d}`, password: p });
                
                localStorage.setItem("tm_token", tokenData.token);
                localStorage.setItem("tm_address", `${u}@${d}`);
                emailEl.value = `${u}@${d}`;
                
                timeLeft = 600;
                startTimer();
                startContinuousLoader(); // Start the 2s/5s loop
            } catch(e) { console.error(e); }
        }

        async function api(path, method="GET", body=null) {
            const token = localStorage.getItem("tm_token");
            const headers = { "Content-Type": "application/json" };
            if (token) headers["Authorization"] = `Bearer ${token}`;
            try {
                const res = await fetch(API + path, { method, headers, body: body ? JSON.stringify(body) : null });
                return res.ok ? res.json() : null;
            } catch (err) { return null; }
        }

        // --- UPDATED LOADER LOGIC (2s Run / 5s Wait) ---
        function startContinuousLoader() {
            if(loaderInterval) clearInterval(loaderInterval);
            
            const runCycle = () => {
                const spinner = document.getElementById('main-spinner');
                const statusText = document.getElementById('status-text');
                const headerSpin = document.getElementById('header-loader');
                
                // 1. Show Animation (2s)
                if(spinner) {
                    spinner.classList.remove('hidden'); 
                    spinner.classList.add('animate-spin'); 
                }
                if(headerSpin) headerSpin.classList.remove('hidden'); // Also show header spinner
                if(statusText) statusText.style.opacity = "1";
                
                refreshInbox(); 

                // 2. Hide Animation after 2s
                setTimeout(() => {
                    if(spinner) {
                        spinner.classList.remove('animate-spin');
                        spinner.classList.add('hidden'); // Completely hide center spinner
                    }
                    if(headerSpin) headerSpin.classList.add('hidden'); // Hide header spinner
                    if(statusText) statusText.style.opacity = "0.5";
                }, 2000);
            };

            // Run Immediately
            runCycle();
            
            // Loop every 7 seconds (2s run + 5s wait)
            loaderInterval = setInterval(() => {
                runCycle();
            }, 7000); 
        }
          async function refreshInbox() {
        const data = await api("/messages");
        if (!data) return;

        const msgs = data['hydra:member'];
        const emptyState = document.getElementById('empty-state');
        
        // Purane mail items ko remove karein
        const oldItems = inboxList.querySelectorAll('.mail-item');
        oldItems.forEach(el => el.remove());

        if (msgs.length > 0) {
            // YAHAN CHANGE HAI: 'hidden' wali line ko comment ya delete kar dein
            // emptyState.classList.add('hidden'); 
            
            msgs.forEach(m => {
            const el = document.createElement('div');
            // 'relative' aur 'z-50' add kiya hai taki click hamesha work kare
            el.className = "mail-item relative z-50 flex items-center py-4 px-5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer bg-white transition fade-in";
            
            // Click event ko sahi se bind karein
            el.addEventListener('click', (e) => {
                e.preventDefault();
                openEmailInView(m.id);
            });

            el.innerHTML = `
                <div class="w-1/3 text-xs font-bold text-gray-800 truncate pr-2 pointer-events-none">${m.from.address}</div>
                <div class="w-1/2 text-xs text-gray-600 truncate pr-2 font-medium pointer-events-none">${m.subject || '(No Subject)'}</div>
                <div class="w-1/6 text-right pointer-events-none"><span class="text-[10px] bg-indigo-50 text-indigo-600 px-2 py-1 rounded font-bold border border-indigo-100">OPEN</span></div>
            `;
            inboxList.appendChild(el);
        });
        }
        // Hamesha ensure karein ki animation visible rahe
        if(emptyState) emptyState.classList.remove('hidden');
    }

        // --- NEW EMAIL VIEW LOGIC (Inside Box) ---
        async function openEmailInView(id) {
            // UI Switch: Hide List, Show Detail
            detailView.classList.remove('hidden');
            detailView.classList.add('flex');
            listHeader.classList.add('hidden');
            inboxList.classList.add('hidden');
            
            const contentBody = document.getElementById('email-content-body');
            contentBody.innerHTML = '<div class="flex items-center justify-center h-40"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div></div>';

            const data = await api(`/messages/${id}`);
            const senderInitial = data.from.address.charAt(0).toUpperCase();
            const dateStr = new Date(data.createdAt).toLocaleString();
            const subject = data.subject || "(No Subject)";

            contentBody.innerHTML = `
                <div class="border-b border-gray-200 p-6 flex items-start gap-4">
                    <div class="w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center text-lg font-bold text-indigo-600 bg-gray-50 flex-shrink-0">
                        ${senderInitial}
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex justify-between items-start">
                            <h2 class="font-bold text-gray-800 text-sm truncate">${data.from.name || data.from.address.split('@')[0]}</h2>
                            <span class="text-xs text-gray-400 font-mono ml-2 whitespace-nowrap">Date: ${dateStr.split(',')[0]}</span>
                        </div>
                        <p class="text-xs text-gray-500 truncate">${data.from.address}</p>
                    </div>
                </div>
                
                <div class="px-6 py-4 border-b border-gray-100 bg-gray-50/50">
                     <span class="text-xs text-gray-400 font-bold uppercase tracking-wider mr-2">Subject:</span>
                     <span class="text-sm font-medium text-gray-800">${subject}</span>
                </div>
                
                <div class="p-6">
                    <div class="prose prose-sm max-w-none text-gray-700 font-sans leading-relaxed whitespace-pre-wrap">${data.text || "No text content available."}</div>
                </div>
            `;
        }

        function backToInbox() {
            detailView.classList.add('hidden');
            detailView.classList.remove('flex');
            listHeader.classList.remove('hidden');
            inboxList.classList.remove('hidden');
            refreshInbox();
        }

        // --- UTILITIES ---
        function ensureEmptyStateExists() {
            const emptyState = document.getElementById('empty-state');
            if(emptyState) {
                emptyState.classList.remove('hidden');
            } else {
                // Reinject if missing
                inboxList.innerHTML = `
                    <div id="empty-state" class="absolute inset-0 flex flex-col items-center justify-center py-20 text-gray-400 space-y-4">
                        <div class="relative p-4">
                            <div class="absolute inset-0 flex items-center justify-center z-10">
                                <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                            </div>
                            <div id="main-spinner" class="w-16 h-16 border-4 border-gray-100 border-t-indigo-500 rounded-full hidden"></div>
                        </div>
                        <div class="text-center">
                            <p class="text-gray-800 font-medium mb-1">Your inbox is empty</p>
                            <p id="status-text" class="text-xs text-gray-500 transition-opacity duration-300 opacity-50">Waiting for incoming emails...</p>
                        </div>
                    </div>`;
            }
        }

        function deleteEmail() {
            backToInbox();
            emailEl.value = "Deleting...";
            inboxList.innerHTML = ''; 
            ensureEmptyStateExists(); 
            localStorage.removeItem("tm_token");
            localStorage.removeItem("tm_address");
            setTimeout(() => { createAccount(); }, 1000); 
        }

        function copyEmail() {
            // 1. Text ko select karein
            const textToCopy = emailEl.value;

            // 2. Copy karne ka logic (Modern + Fallback for all browsers)
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(textToCopy);
            } else {
                // Fallback: Agar clipboard API block ho to ye kaam karega
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            }

            // 3. Icon Change Logic (1 second ke liye Tick dikhega)
            const btn = document.getElementById('copy-btn');
            if (btn) {
                const originalHTML = btn.innerHTML; // Purana copy icon save karein
                
                // Tick (Checkmark) icon dikhayein
                btn.innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>`;
                
                // EXACTLY 1 second (1000ms) baad wapas purana icon layein
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                }, 1000); 
            }
        }
        
        function manualRefresh() {
            const icon = document.getElementById('refresh-icon');
            if(icon) icon.classList.add('animate-spin');
            refreshInbox().then(() => setTimeout(() => { if(icon) icon.classList.remove('animate-spin'); }, 1000));
        }

        function startTimer() {
            if(timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                timerEl.innerText = `${m}:${s < 10 ? '0'+s : s}`;
                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    createAccount(); 
                }
            }, 1000);
        }

        // Overlay handling (Only for Pages/Articles now)
        function openOverlay(type, id) {
            const view = document.getElementById('overlay-view');
            const content = document.getElementById('overlay-content');
            const title = document.getElementById('overlay-title');
            view.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; 
            
            if (type === 'article') {
                const art = articles.find(a => a.id === id);
                title.innerText = "Article";
                content.innerHTML = `<article class="bg-white p-6 rounded-lg shadow-sm border"><h1 class="text-2xl font-bold mb-4 text-gray-900">${art.title}</h1><div class="leading-relaxed text-gray-700 space-y-4">${art.content}</div></article>`;
            } else if (type === 'page') {
                 if(id === 'contact') {
                    title.innerText = "Contact Us";
                    content.innerHTML = `
                        <div class="bg-white p-8 rounded-lg shadow-sm border">
                            <h2 class="text-2xl font-bold mb-6">Get in Touch</h2>
                            <div class="flex items-center gap-4 mb-8 bg-indigo-50 p-4 rounded-lg">
                                <div class="bg-indigo-600 p-3 rounded-full text-white">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-500">Official Support Email</p>
                                    <p class="text-lg font-bold text-gray-800">jhonhamare@gmail.com</p>
                                </div>
                            </div>
                            
                            <form onsubmit="handleContact(event)" class="space-y-4">
                                <div><label class="block text-sm font-medium mb-1">Name</label><input type="text" id="c-name" class="w-full border rounded p-2" required></div>
                                <div><label class="block text-sm font-medium mb-1">Email</label><input type="email" id="c-email" class="w-full border rounded p-2" required></div>
                                <div><label class="block text-sm font-medium mb-1">Message</label><textarea id="c-msg" rows="4" class="w-full border rounded p-2" required></textarea></div>
                                <button type="submit" class="bg-indigo-600 text-white font-bold py-2 px-4 rounded hover:bg-indigo-700 w-full">Send Message</button>
                            </form>
                        </div>
                    `;
                } else {
                    title.innerText = id.charAt(0).toUpperCase() + id.slice(1) + " Policy";
                    content.innerHTML = `<div class="bg-white p-8 rounded-lg shadow-sm border prose max-w-none">${generatePolicyText(id)}</div>`;
                }
            }
        }
        
        function handleContact(e) {
            e.preventDefault();
            const name = document.getElementById('c-name').value;
            const msg = document.getElementById('c-msg').value;
            window.location.href = `mailto:jhonhamare@gmail.com?subject=Contact from ${name}&body=${msg}`;
        }
        
        function closeOverlay() { document.getElementById('overlay-view').classList.add('hidden'); document.body.style.overflow = 'auto'; }
        function openPage(p) { openOverlay('page', p); }
        
        async function openChangeOverlay() {
            const ov = document.getElementById('change-overlay');
            const list = document.getElementById('domain-list');
            ov.classList.remove('hidden'); ov.classList.add('flex');
            const dData = await api("/domains");
            list.innerHTML = "";
            dData['hydra:member'].forEach(d => {
                const item = document.createElement('div');
                item.className = "p-3 border-b hover:bg-gray-50 cursor-pointer text-sm font-medium text-gray-600";
                item.innerText = "@"+d.domain;
                item.onclick = () => { createAccount(d.domain); closeChangeOverlay(); };
                list.appendChild(item);
            });
        }
        function closeChangeOverlay() { document.getElementById('change-overlay').classList.add('hidden'); }
        function toggleQR() { const q = document.getElementById('qr-popup'); const c = document.getElementById('qr-image-container'); if(q.classList.contains('hidden')){ c.innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${emailEl.value}" class="w-full h-full">`; q.classList.remove('hidden'); } else { q.classList.add('hidden'); } }

        function renderArticles() {
            const grid = document.getElementById('articles-grid');
            articles.forEach(a => {
                const d = document.createElement('div');
                d.className = "bg-white p-5 rounded-lg border border-gray-200 hover:shadow-lg cursor-pointer transition flex flex-col justify-between";
                d.innerHTML = `<div><h4 class="font-bold text-gray-800 mb-2">${a.title}</h4><p class="text-xs text-gray-500 line-clamp-3">Click to read this comprehensive guide on ${a.title}...</p></div><div class="mt-4 text-indigo-500 text-xs font-bold">Read Full Guide &rarr;</div>`;
                d.onclick = () => openOverlay('article', a.id);
                grid.appendChild(d);
            });
        }
    </script>
</body>
</html>
